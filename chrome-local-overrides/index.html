<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Local Overrides in Chrome | Sweating the Small Stuff</title>
<meta property="og:title" content="Local Overrides in Chrome - Sweating the Small Stuff">
<meta property="og:description" content="At the beginning of this year Chrome came out with Local Overrides features for Chrome 65. This is related, but distinct from Workspaces, which is a way to save your devtools changes to a local project. While Workspaces seems neat, it&rsquo;s rare that I&rsquo;m working on a site whose code isn&rsquo;t generated by some server-side tool. However, with Local Overrides I can work in the devtools inspector, and still persist those changes between page loads, even if they are separate from the project.">
<meta property="og:url" content="https://claytron5000.github.io/hugo-blog/chrome-local-overrides/">
<meta property="og:site_name" content="Sweating the Small Stuff">
<meta property="og:type" content="article"><meta property="og:image" content="https://www.gravatar.com/avatar/b0aa23e34b24398a6de0b7868f0182c5?s=256"><meta property="article:section" content="Post"><meta property="article:published_time" content="2018-07-12T08:06:00Z"><meta property="article:modified_time" content="2018-07-12T08:06:00Z"><meta name=twitter:card content="summary"><meta name=twitter:site content="@ClaytonSalem"><meta name=twitter:creator content="@ClaytonSalem">
<link href=https://claytron5000.github.io/hugo-blog/index.xml rel=alternate type=application/rss+xml title="Sweating the Small Stuff">
<link rel=stylesheet href=/hugo-blog/css/style.css><link rel=stylesheet href=https://claytron5000.github.io/hugo-blog/css/custom.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<link rel=canonical href=https://claytron5000.github.io/hugo-blog/chrome-local-overrides/>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
</head>
<body>
<section class=section>
<div class=container>
<nav id=nav-main class=nav>
<div id=nav-name class=nav-left>
<a id=nav-anchor class=nav-item href=https://claytron5000.github.io/hugo-blog>
<h1 id=nav-heading class="title is-4">Sweating the Small Stuff</h1>
</a>
</div>
<div class=nav-right>
<nav id=nav-items class="nav-item level is-mobile"><a class=level-item aria-label=github href=https://github.com/claytron5000 target=_blank rel=noopener>
<span class=icon>
<i><svg viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></i>
</span>
</a><a class=level-item aria-label=twitter href=https://twitter.com/ClaytonSalem target=_blank rel=noopener>
<span class=icon>
<i><svg viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></i>
</span>
</a><a class=level-item aria-label=email href=mailto:claytonjsalem@gmail.com target=_blank rel=noopener>
<span class=icon>
<i><svg viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></i>
</span>
</a></nav>
</div>
</nav>
<nav class=nav>
</nav>
</div>
<script src=/js/navicon-shift.js></script>
</section>
<section class=section>
<div class=container>
<div class="subtitle tags is-6 is-pulled-right">
</div>
<h2 class="subtitle is-6">July 12, 2018</h2>
<h1 class=title>Local Overrides in Chrome</h1>
<div class=content>
<p>At the beginning of this year Chrome came out with Local Overrides features for <a href=https://developers.google.com/web/updates/2018/01/devtools>Chrome 65</a>. This is related, but distinct from <a href=https://developers.google.com/web/tools/chrome-devtools/workspaces/>Workspaces</a>, which is a way to save your devtools changes to a local project. While Workspaces seems neat, it&rsquo;s rare that I&rsquo;m working on a site whose code isn&rsquo;t generated by some server-side tool. However, with Local Overrides I can work in the devtools inspector, and still persist those changes between page loads, even if they are separate from the project.</p>
<p>I knew this would be useful when I saw it, but I wasn&rsquo;t sure how. Then, I was presented with a problem with the External Links Drupal module. This module provides external link icons to links that lead off the current domain. It also provides ways of excluding, including and regex-ing links to decide if you want it to have the external icon or not. We had implemented a configuration fix for a site using the module. However, on our testing site, the external icon no longer showed up. I suspected this was a result of the difference in the urls. The hard part was when it turned out that the logic that controlled internal/external links was constructed entirely in client-side JavaScript.</p>
<blockquote>
<p>The use of the External Links module is in no way endorsed by the writer of this post&mldr;</p>
</blockquote>
<p>So the situation was this:</p>
<ol>
<li>A live site implements this feature that works as expected.</li>
<li>A test site with a different url structure worked differently.</li>
<li>The logic governing these two situations runs entirely on page load.</li>
<li>The logic comprised of a five line <code>if..else</code> statement.</li>
<li>I want to compare the logic of the two sites.</li>
</ol>
<pre tabindex=0><code>if (url.indexOf('http') === 0
        &amp;&amp; ((!url.match(internal_link) &amp;&amp; !(extExclude &amp;&amp; url.match(extExclude))) || (extInclude &amp;&amp; url.match(extInclude)))
        &amp;&amp; !(extCssExclude &amp;&amp; $(this).is(extCssExclude))
        &amp;&amp; !(extCssExclude &amp;&amp; $(this).parents(extCssExclude).length &gt; 0)
        &amp;&amp; !(extCssExplicit &amp;&amp; $(this).parents(extCssExplicit).length &lt; 1)) {
        external_links.push(this);
      }
</code></pre><p>Since I can&rsquo;t start <code>console.log</code>ing on the live site, this was the perfect place to try out Local Overrides!</p>
<h3 id=overrides-in-pictures>Overrides in pictures</h3>
<p>This is pretty cool. It gave me the tools I needed to compare complicated multi-line switch statements on two sites, without modifying production code, or any server code.</p>
<p>The danger, which you might be anticipating, is that it&rsquo;s easy to forget that this is turned on, and load the page with unexpected behavior. That said, this could also be leveraged to add personalized behavior to certain sites.</p>
<p>Overall, this is a pretty cool tool and one I&rsquo;m sure to use in the future.</p>
<div class=related>
</div>
</div>
</div>
</section>
<script src=/js/copycode.js></script>
<section class=section>
<div class="container has-text-centered">
<p>&copy; <a href=https://github.com/claytron5000>Clayton Salem</a> 2021</p>
</div>
</section>
</body>
</html>