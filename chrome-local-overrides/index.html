<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Local Overrides in Chrome | My New Hugo Site</title>
<link rel=stylesheet href=/hugo-blog/css/style.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<link rel=canonical href=https://claytron5000.github.io/hugo-blog/chrome-local-overrides/>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
</head>
<body>
<section class=section>
<div class=container>
<nav id=nav-main class=nav>
<div id=nav-name class=nav-left>
<a id=nav-anchor class=nav-item href=https://claytron5000.github.io/hugo-blog>
<h1 id=nav-heading class="title is-4">My New Hugo Site</h1>
</a>
</div>
<div class=nav-right>
<nav id=nav-items class="nav-item level is-mobile"></nav>
</div>
</nav>
<nav class=nav>
</nav>
</div>
<script src=/js/navicon-shift.js></script>
</section>
<section class=section>
<div class=container>
<div class="subtitle tags is-6 is-pulled-right">
</div>
<h2 class="subtitle is-6">July 12, 2018</h2>
<h1 class=title>Local Overrides in Chrome</h1>
<div class=content>
<p>At the beginning of this year Chrome came out with Local Overrides features for <a href=https://developers.google.com/web/updates/2018/01/devtools>Chrome 65</a>. This is related, but distinct from <a href=https://developers.google.com/web/tools/chrome-devtools/workspaces/>Workspaces</a>, which is a way to save your devtools changes to a local project. While Workspaces seems neat, it&rsquo;s rare that I&rsquo;m working on a site whose code isn&rsquo;t generated by some server-side tool. However, with Local Overrides I can work in the devtools inspector, and still persist those changes between page loads, even if they are separate from the project.</p>
<p>I knew this would be useful when I saw it, but I wasn&rsquo;t sure how. Then, I was presented with a problem with the External Links Drupal module. This module provides external link icons to links that lead off the current domain. It also provides ways of excluding, including and regex-ing links to decide if you want it to have the external icon or not. We had implemented a configuration fix for a site using the module. However, on our testing site, the external icon no longer showed up. I suspected this was a result of the difference in the urls. The hard part was when it turned out that the logic that controlled internal/external links was constructed entirely in client-side JavaScript.</p>
<blockquote>
<p>The use of the External Links module is in no way endorsed by the writer of this post&mldr;</p>
</blockquote>
<p>So the situation was this:</p>
<ol>
<li>A live site implements this feature that works as expected.</li>
<li>A test site with a different url structure worked differently.</li>
<li>The logic governing these two situations runs entirely on page load.</li>
<li>The logic comprised of a five line <code>if..else</code> statement.</li>
<li>I want to compare the logic of the two sites.</li>
</ol>
<pre tabindex=0><code>if (url.indexOf('http') === 0
        &amp;&amp; ((!url.match(internal_link) &amp;&amp; !(extExclude &amp;&amp; url.match(extExclude))) || (extInclude &amp;&amp; url.match(extInclude)))
        &amp;&amp; !(extCssExclude &amp;&amp; $(this).is(extCssExclude))
        &amp;&amp; !(extCssExclude &amp;&amp; $(this).parents(extCssExclude).length &gt; 0)
        &amp;&amp; !(extCssExplicit &amp;&amp; $(this).parents(extCssExplicit).length &lt; 1)) {
        external_links.push(this);
      }
</code></pre><p>Since I can&rsquo;t start <code>console.log</code>ing on the live site, this was the perfect place to try out Local Overrides!</p>
<h3 id=overrides-in-pictures>Overrides in pictures</h3>
<p>This is pretty cool. It gave me the tools I needed to compare complicated multi-line switch statements on two sites, without modifying production code, or any server code.</p>
<p>The danger, which you might be anticipating, is that it&rsquo;s easy to forget that this is turned on, and load the page with unexpected behavior. That said, this could also be leveraged to add personalized behavior to certain sites.</p>
<p>Overall, this is a pretty cool tool and one I&rsquo;m sure to use in the future.</p>
</div>
</div>
</section>
<section class=section>
<div class="container has-text-centered">
<p></p>
</div>
</section>
</body>
</html>